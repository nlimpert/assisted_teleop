<launch>
  <!-- We want max range values to be valid for clearing -->
  <node pkg="laser_filters" type="scan_to_scan_filter_chain" output="screen" name="max_range_laser_filter">
    <remap from="scan" to="base_scan" />
    <remap from="scan_filtered" to="base_scan_clearing" />
    <rosparam command="load" file="$(find assisted_teleop)/launch/max_range_filter.yaml" />
  </node>

  <!-- Throttle the voxel grid that is being published for rviz -->
  <node ns="assisted_teleop/costmap" name="voxel_grid_throttle" pkg="topic_tools" type="throttle" args="messages voxel_grid 3.0 voxel_grid_throttled" />

  <node pkg="assisted_teleop" type="assisted_teleop" name="assisted_teleop" output="screen">
    <remap from="odom" to="texas_odometry/odom" />
    <remap from="teleop_cmd_vel" to="cmd_vel" />
    <remap from="cmd_vel" to="assisted_cmd_vel" />
    <param name="num_x_samples" value="10" />
    <param name="num_th_samples" value="20" />

    <!-- Load common configuration files -->
    <rosparam file="$(find assisted_teleop)/launch/texas_costmap_params.yaml" command="load" ns="costmap" />
    <rosparam file="$(find assisted_teleop)/launch/texas_base_local_planner_params.yaml" command="load" ns="planner" />
  </node>

</launch>
